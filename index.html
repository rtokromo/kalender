<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javaanse Kalender</title>
    <style>
        /* (Bestaande CSS blijft ongewijzigd) */
    </style>
</head>
<body>
    <h2>Penanggalan</h2>
    <div class="container">
        <div class="navigatie">
            <button onclick="vorigeMaand()">←</button>
            <span id="huidigeMaandWeergave"></span>
            <button onclick="volgendeMaand()">→</button>
        </div>
        <div id="javaansJaar" style="font-size: 1.2rem; margin-bottom: 10px;"></div>
        <div class="kalender-header" id="kalenderHeader">
            <div>DOT (5)</div>
            <div>GOT (4)</div>
            <div>GOS (3)</div>
            <div>JOS (7)</div>
            <div>JOH (8)</div>
            <div>HOD (6)</div>
            <div>WOR (9)</div>
        </div>
        <div class="kalender" id="kalender"></div>
        <div class="speciale-dagen-footer" id="specialeDagenFooter">
            <h5>Gogonoh Srengat:</h5>
            <ul id="specialeDagenLijst"></ul>
        </div>
        <div class="goto-date">
            <input type="date" id="datePicker">
            <button onclick="goToDate()">Menyang Tanggal</button>
            <!-- NIEUWE KNOPPEN VOOR EXPORT -->
            <button onclick="exportToPDF()">Exporteer naar PDF</button>
            <button onclick="exportToCSV()">Exporteer naar CSV</button>
        </div>
    </div>
    <div class="footer">
        © 2025 Javaanse Kalender
    </div>

    <!-- Voeg jsPDF-bibliotheek toe voor PDF-export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Bestaande JavaScript-code blijft ongewijzigd...

        // NIEUW: Functie voor PDF-export
        function exportToPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            // Kalenderinformatie verzamelen
            const csvData = [];
            csvData.push("Maand,Dag,Pasaran,Gregoriaanse Datum"); // Header

            for (let maand = 1; maand <= javaanseMaanden.length; maand++) {
                const dagenInMaand = javaanseMaanden[maand - 1][1];
                for (let dag = 1; dag <= dagenInMaand; dag++) {
                    const gregoriaanseDatum = berekenGregoriaanseDatum(huidigJavaansJaar, maand, dag);
                    const pasaran = bepaalPasaran(gregoriaanseDatum);
                    const csvRij = `${javaanseMaanden[maand - 1][0]},${dag},${pasaran},${gregoriaanseDatum.getDate()}-${gregoriaanseDatum.getMonth() + 1}-${gregoriaanseDatum.getFullYear()}`;
                    csvData.push(csvRij);
                }
            }

            // Voeg titel toe aan PDF
            doc.setFontSize(18);
            doc.text(`Javaanse Kalender - Jaar ${huidigJavaansJaar}`, 10, 10);

            // Voeg kalenderinhoud toe aan PDF
            doc.setFontSize(12);
            let yPos = 20; // Startpositie voor tekst
            csvData.forEach((rij, index) => {
                doc.text(rij, 10, yPos + index * 10);
            });

            // Sla de PDF op
            doc.save(`Javaanse_Kalender_${huidigJavaansJaar}.pdf`);
        }

        // NIEUW: Functie voor CSV-export
        function exportToCSV() {
            // Verzamel kalendergegevens
            const csvData = [];
            csvData.push("Maand,Dag,Pasaran,Gregoriaanse Datum"); // Header

            for (let maand = 1; maand <= javaanseMaanden.length; maand++) {
                const dagenInMaand = javaanseMaanden[maand - 1][1];
                for (let dag = 1; dag <= dagenInMaand; dag++) {
                    const gregoriaanseDatum = berekenGregoriaanseDatum(huidigJavaansJaar, maand, dag);
                    const pasaran = bepaalPasaran(gregoriaanseDatum);
                    const csvRij = `${javaanseMaanden[maand - 1][0]},${dag},${pasaran},${gregoriaanseDatum.getDate()}-${gregoriaanseDatum.getMonth() + 1}-${gregoriaanseDatum.getFullYear()}`;
                    csvData.push(csvRij);
                }
            }

            // Converteer naar CSV-string
            const csvContent = csvData.join("\n");

            // Creëer een downloadlink
            const blob = new Blob([csvContent], { type: "text/csv;charset=utf-8;" });
            const url = URL.createObjectURL(blob);
            const link = document.createElement("a");
            link.setAttribute("href", url);
            link.setAttribute("download", `Javaanse_Kalender_${huidigJavaansJaar}.csv`);
            link.style.visibility = "hidden";
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Bestaande functies blijven ongewijzigd...
    </script>
</body>
</html>
